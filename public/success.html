<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>âœ… ê²°ì œ ì™„ë£Œ - ì‚°íƒ€ë¥¼ ë§Œë‚œ ìˆœê°„</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Pretendard', -apple-system, sans-serif; background: linear-gradient(135deg, #1a472a, #2d5016); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
    .card { background: white; border-radius: 20px; padding: 40px 30px; max-width: 400px; width: 100%; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
    .icon { font-size: 60px; margin-bottom: 20px; }
    h1 { color: #1a472a; margin-bottom: 10px; }
    .order-id { background: #f8f9fa; padding: 10px; border-radius: 8px; font-family: monospace; font-size: 12px; margin: 20px 0; word-break: break-all; }
    .info-box { background: #e8f5e9; padding: 20px; border-radius: 12px; margin: 20px 0; text-align: left; }
    .info-box h3 { color: #1a472a; margin-bottom: 10px; font-size: 16px; }
    .info-box p { color: #555; font-size: 14px; line-height: 1.6; }
    .highlight { background: #fff9c4; padding: 15px; border-radius: 10px; margin: 20px 0; }
    .highlight strong { color: #c41e3a; }
    .btn { display: inline-block; background: #1a472a; color: white; padding: 15px 30px; border-radius: 25px; text-decoration: none; margin-top: 20px; }
  </style>
</head>
<body>
  <div class="card">
    <div class="icon">ğŸ…âœ…</div>
    <h1>ê²°ì œê°€ ì™„ë£Œë˜ì—ˆì–´ìš”!</h1>
    <p>ì‚°íƒ€ í• ì•„ë²„ì§€ê°€ ì—´ì‹¬íˆ ì¤€ë¹„í•˜ê³  ìˆì–´ìš”</p>
    
    <div class="order-id" id="orderId">ì£¼ë¬¸ë²ˆí˜¸ í™•ì¸ ì¤‘...</div>
    
    <div class="info-box">
      <h3>ğŸ“© ê²°ê³¼ë¬¼ ë°›ëŠ” ë°©ë²•</h3>
      <p>ì…ë ¥í•˜ì‹  ì´ë©”ì¼ë¡œ ì™„ì„±ëœ ì‚¬ì§„/ì˜ìƒ ë‹¤ìš´ë¡œë“œ ë§í¬ë¥¼ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.</p>
      <p style="margin-top:10px;"><strong>ì˜ˆìƒ ì†Œìš”ì‹œê°„:</strong> 6~24ì‹œê°„</p>
    </div>
    
    <div class="highlight">
      <p>ğŸ“Œ <strong>ì´ë©”ì¼ ìŠ¤íŒ¸í•¨ë„ í™•ì¸í•´ì£¼ì„¸ìš”!</strong></p>
    </div>
    
    <p style="color:#666;font-size:14px;">ë¬¸ì˜: santa.moment.official@gmail.com</p>
    
    <a href="/" class="btn">ğŸ  í™ˆìœ¼ë¡œ</a>
  </div>

  <script>
    const params = new URLSearchParams(location.search);
    const orderId = params.get('orderId');
    const paymentKey = params.get('paymentKey');
    const amount = params.get('amount');
    
    document.getElementById('orderId').textContent = orderId || 'í™•ì¸ ë¶ˆê°€';
    
    // ê²°ì œ ìŠ¹ì¸
    if (paymentKey && orderId && amount) {
      fetch('/api/payments/confirm', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ paymentKey, orderId, amount: parseInt(amount) })
      }).then(res => res.json()).then(data => {
        if (data.success) console.log('âœ… ê²°ì œ ìŠ¹ì¸ ì™„ë£Œ');
        else console.error('âŒ ê²°ì œ ìŠ¹ì¸ ì‹¤íŒ¨:', data.error);
      }).catch(e => console.error('ê²°ì œ ìŠ¹ì¸ ì˜¤ë¥˜:', e));
    }
  </script>
</body>
</html>
